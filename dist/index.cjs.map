{"version":3,"file":"index.cjs","sources":["../src/index.js"],"sourcesContent":["import React from \"react\";\nconst fontUrl = \"https://country-flag.proca.app/font/TwemojiCountryFlags.woff2\";\nconst fontName = \"countryFlags\";\nlet hasEffectRun = false;\n\n\nconst nativeFlag = () => {\n  const userAgent = window.navigator.userAgent;\n  \n  return userAgent.indexOf(\"Win\") === -1;\n}\n\nconst useCountryFlag = (options) => {\n  React.useEffect(() => {\n    if (hasEffectRun) {\n      // Run the effect logic only once\n      return;\n    }\n    hasEffectRun = true;\n    const css = `.${options.className} {font-family: \"'${fontName}'\"}`;\n\n    const loadFont = async () => {\n\n      const customFont = new FontFace(\n        fontName,\n        \"url(\" + fontUrl + \")\",\n        {\n          unicodeRange:\n            \"U+1F1E6-1F1FF, U+1F3F4, U+E0062-E0063, U+E0065, U+E0067, U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F\",\n        }\n      );\n\n\n      try {\n        await customFont.load();\n        document.fonts.add(customFont);\n      } catch  {\n        console.log(\"can't load font\");\n      }\n    };\n\n\n    if (nativeFlag()) \n      return;\n\n    loadFont();\n    const style = document.createElement(\"style\");\n    style.textContent = css;\n    style.id = \"react-emoji-flag\";\n    document.head.appendChild(style);\n  }, []);\n};\n\nconst flag = (isoCode) => {\n  const offset = 127397;\n  if (!isoCode || isoCode.toUpperCase() === \"ZZ\") return \"\";\n  return isoCode\n    .toUpperCase()\n    .replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + offset));\n// U+1F6A9\n};\n\nconst CountryFlag = (props) => {\n  const className = props.className || \"country-flag\";\n  useCountryFlag({className:className}); // load the font and create style if needed\n  const d = flag(props.countryCode);\n  return (\n    <span className={className} title={props.title || props.countryCode}>\n      {d}\n    </span>\n  );\n};\n\nexport default CountryFlag;\n"],"names":["_catch","body","recover","result","e","then","fontUrl","fontName","hasEffectRun","nativeFlag","userAgent","window","navigator","indexOf","useCountryFlag","options","React","useEffect","css","className","loadFont","customFont","FontFace","unicodeRange","_temp","Promise","resolve","load","document","fonts","add","console","log","reject","style","createElement","textContent","id","head","appendChild","flag","isoCode","offset","toUpperCase","replace","char","String","fromCodePoint","charCodeAt","CountryFlag","props","d","countryCode","_jsx","title","children"],"mappings":"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"}