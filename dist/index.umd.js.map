{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["import React from \"react\";\nconst fontUrl = \"https://country-flag.proca.app/font/TwemojiCountryFlags.woff2\";\nconst fontName = \"countryFlags\";\nlet hasEffectRun = false;\n\n\nconst nativeFlag = () => {\n  const userAgent = window.navigator.userAgent;\n  \n  return userAgent.indexOf(\"Win\") === -1;\n}\n\nconst useCountryFlag = (options) => {\n  React.useEffect(() => {\n    if (hasEffectRun) {\n      // Run the effect logic only once\n      return;\n    }\n    hasEffectRun = true;\n    const css = `.${options.className} {font-family: \"'${fontName}'\"}`;\n\n    const loadFont = async () => {\n\n      const customFont = new FontFace(\n        fontName,\n        \"url(\" + fontUrl + \")\",\n        {\n          unicodeRange:\n            \"U+1F1E6-1F1FF, U+1F3F4, U+E0062-E0063, U+E0065, U+E0067, U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F\",\n        }\n      );\n\n\n      try {\n        await customFont.load();\n        document.fonts.add(customFont);\n      } catch  {\n        console.log(\"can't load font\");\n      }\n    };\n\n\n    if (nativeFlag()) \n      return;\n\n    loadFont();\n    const style = document.createElement(\"style\");\n    style.textContent = css;\n    style.id = \"react-emoji-flag\";\n    document.head.appendChild(style);\n  }, []);\n};\n\nconst flag = (isoCode) => {\n  const offset = 127397;\n  if (!isoCode || isoCode.toUpperCase() === \"ZZ\") return \"\";\n  return isoCode\n    .toUpperCase()\n    .replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + offset));\n// U+1F6A9\n};\n\nconst CountryFlag = (props) => {\n  const className = props.className || \"country-flag\";\n  useCountryFlag({className:className}); // load the font and create style if needed\n  const d = flag(props.countryCode);\n  return (\n    <span className={className} title={props.title || props.countryCode}>\n      {d}\n    </span>\n  );\n};\n\nexport default CountryFlag;\n"],"names":["_catch","body","recover","result","e","then","fontUrl","fontName","hasEffectRun","nativeFlag","userAgent","window","navigator","indexOf","useCountryFlag","options","React","useEffect","css","className","loadFont","customFont","FontFace","unicodeRange","_temp","Promise","resolve","load","document","fonts","add","console","log","reject","style","createElement","textContent","id","head","appendChild","flag","isoCode","offset","toUpperCase","replace","char","String","fromCodePoint","charCodeAt","CountryFlag","props","d","countryCode","_jsx","title","children"],"mappings":"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"}