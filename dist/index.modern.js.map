{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React from \"react\";\nconst fontUrl = \"https://country-flag.proca.app/font/TwemojiCountryFlags.woff2\";\nconst fontName = \"countryFlags\";\nlet hasEffectRun = false;\n\n\nconst nativeFlag = () => {\n  const userAgent = window.navigator.userAgent;\n  return userAgent.indexOf(\"Win\") === -1;\n}\n\nexport const useCountryFlag = (options) => {\n  React.useEffect(() => {\n    if (hasEffectRun) {\n      // Run the effect logic only once\n      return;\n    }\n    hasEffectRun = true;\n    const css = `.${options.className} {font-family: \"'${fontName}'\"}`;\n\n    const loadFont = async () => {\n\n      const customFont = new FontFace(\n        fontName,\n        \"url(\" + fontUrl + \")\",\n        {\n          unicodeRange:\n            \"U+1F1E6-1F1FF, U+1F3F4, U+E0062-E0063, U+E0065, U+E0067, U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F\",\n        }\n      );\n\n\n      try {\n        await customFont.load();\n        document.fonts.add(customFont);\n      } catch  {\n        console.log(\"can't load font\");\n      }\n    };\n\n\n    if (nativeFlag()) \n      return;\n\n    loadFont();\n    const style = document.createElement(\"style\");\n    style.textContent = css;\n    style.id = \"react-emoji-flag\";\n    document.head.appendChild(style);\n  }, []);\n};\n\nexport const flag = (isoCode) => {\n  const offset = 127397;\n  if (!isoCode || isoCode.toUpperCase() === \"ZZ\") return \"\";\n  return isoCode\n    .toUpperCase()\n    .replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + offset));\n// U+1F6A9\n};\n\nconst CountryFlag = (props) => {\n  const className = props.className || \"country-flag\";\n  useCountryFlag({className:className}); // load the font and create style if needed\n  const d = flag(props.countryCode);\n  return (\n    <span className={className} title={props.title || props.countryCode}>\n      {d}\n    </span>\n  );\n};\n\nexport default CountryFlag;\n"],"names":["fontUrl","fontName","hasEffectRun","nativeFlag","userAgent","window","navigator","indexOf","useCountryFlag","options","React","useEffect","css","className","loadFont","customFont","FontFace","unicodeRange","load","document","fonts","add","_unused","console","log","style","createElement","textContent","id","head","appendChild","flag","isoCode","offset","toUpperCase","replace","char","String","fromCodePoint","charCodeAt","CountryFlag","props","d","countryCode","_jsx","title","children"],"mappings":";;;AACA,MAAMA,OAAO,GAAG,+DAA+D,CAAA;AAC/E,MAAMC,QAAQ,GAAG,cAAc,CAAA;AAC/B,IAAIC,YAAY,GAAG,KAAK,CAAA;AAGxB,MAAMC,UAAU,GAAGA,MAAM;AACvB,EAAA,MAAMC,SAAS,GAAGC,MAAM,CAACC,SAAS,CAACF,SAAS,CAAA;EAC5C,OAAOA,SAAS,CAACG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAA;AACxC,CAAC,CAAA;AAEYC,MAAAA,cAAc,GAAIC,OAAO,IAAK;EACzCC,KAAK,CAACC,SAAS,CAAC,MAAM;AACpB,IAAA,IAAIT,YAAY,EAAE;AAChB;AACA,MAAA,OAAA;AACF,KAAA;AACAA,IAAAA,YAAY,GAAG,IAAI,CAAA;IACnB,MAAMU,GAAG,GAAI,CAAGH,CAAAA,EAAAA,OAAO,CAACI,SAAU,CAAA,iBAAA,EAAmBZ,QAAS,CAAI,GAAA,CAAA,CAAA;AAElE,IAAA,MAAMa,QAAQ,GAAG,YAAY;AAE3B,MAAA,MAAMC,UAAU,GAAG,IAAIC,QAAQ,CAC7Bf,QAAQ,EACR,MAAM,GAAGD,OAAO,GAAG,GAAG,EACtB;AACEiB,QAAAA,YAAY,EACV,4GAAA;AACJ,OACF,CAAC,CAAA;MAGD,IAAI;AACF,QAAA,MAAMF,UAAU,CAACG,IAAI,EAAE,CAAA;AACvBC,QAAAA,QAAQ,CAACC,KAAK,CAACC,GAAG,CAACN,UAAU,CAAC,CAAA;OAC/B,CAAC,OAAAO,OAAA,EAAO;AACPC,QAAAA,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAAA;AAChC,OAAA;KACD,CAAA;IAGD,IAAIrB,UAAU,EAAE,EACd,OAAA;AAEFW,IAAAA,QAAQ,EAAE,CAAA;AACV,IAAA,MAAMW,KAAK,GAAGN,QAAQ,CAACO,aAAa,CAAC,OAAO,CAAC,CAAA;IAC7CD,KAAK,CAACE,WAAW,GAAGf,GAAG,CAAA;IACvBa,KAAK,CAACG,EAAE,GAAG,kBAAkB,CAAA;AAC7BT,IAAAA,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACL,KAAK,CAAC,CAAA;GACjC,EAAE,EAAE,CAAC,CAAA;AACR,EAAC;AAEYM,MAAAA,IAAI,GAAIC,OAAO,IAAK;EAC/B,MAAMC,MAAM,GAAG,MAAM,CAAA;AACrB,EAAA,IAAI,CAACD,OAAO,IAAIA,OAAO,CAACE,WAAW,EAAE,KAAK,IAAI,EAAE,OAAO,EAAE,CAAA;EACzD,OAAOF,OAAO,CACXE,WAAW,EAAE,CACbC,OAAO,CAAC,IAAI,EAAGC,IAAI,IAAKC,MAAM,CAACC,aAAa,CAACF,IAAI,CAACG,UAAU,CAAC,CAAC,CAAC,GAAGN,MAAM,CAAC,CAAC,CAAA;AAC/E;AACA,EAAC;AAEKO,MAAAA,WAAW,GAAIC,KAAK,IAAK;AAC7B,EAAA,MAAM5B,SAAS,GAAG4B,KAAK,CAAC5B,SAAS,IAAI,cAAc,CAAA;AACnDL,EAAAA,cAAc,CAAC;AAACK,IAAAA,SAAS,EAACA,SAAAA;GAAU,CAAC,CAAC;AACtC,EAAA,MAAM6B,CAAC,GAAGX,IAAI,CAACU,KAAK,CAACE,WAAW,CAAC,CAAA;AACjC,EAAA,oBACEC,GAAA,CAAA,MAAA,EAAA;AAAM/B,IAAAA,SAAS,EAAEA,SAAU;AAACgC,IAAAA,KAAK,EAAEJ,KAAK,CAACI,KAAK,IAAIJ,KAAK,CAACE,WAAY;AAAAG,IAAAA,QAAA,EACjEJ,CAAAA;AAAC,GACE,CAAC,CAAA;AAEX;;;;"}